@require "../../theme/colors"
@require "../../theme/vars"

.oak-foldable
  display: flex
  flex-wrap: wrap
  flex-direction: row
  position: relative
  margin-top: 30px
  margin-bottom: 20px
  width: 100%
  border: 1px solid var(--oak-main-color)
  border-radius: 3px

  .oak-drop-zone
    position: absolute
    left: 0
    width: 100%
    z-index: 1

    &:after
      content: ''
      width: 100%
      left: 0
      height: 5px
      border-radius: 2px
      background: $color-catskill-white
      opacity: 0
      position: absolute

    &.oak-before
      top: -35px
      height: 35px

    &.oak-after
      top: 100%
      height: 20px

      &:after
        top: 8px

    &.drag-enter
      &:after
        opacity: 1

  &:first-child
    border-radius: 0 5px 5px 5px

  & > .oak-inner
    padding: 0
    background: none

  > .oak-options
    top: -25px
    left: 0
    transform: none
    display: flex
    visibility: visible
    z-index: 2

    a.oak-option
      &:first-child
        border-radius: 3px 0 0 0

        &:last-child
          border-radius: 3px 3px 0 0

      &:last-child, &.oak-edit
        border-radius: 0 3px 0 0

      &.oak-drag-handle
        cursor: move
        cursor: grab

        &:active
          cursor: gragging

  .oak-foldable-content
    display: flex
    flex-direction: row
    flex-wrap: wrap
    width: 100%

    for alignment in (flex-start center flex-end space-between space-around)

      &.oak-align
        &-{alignment}
          align-items: alignment

      &.oak-justify
        &-{alignment}
          justify-content: alignment

    for direction in (row row-reverse column column-reverse)
      &.oak-direction
        &-{direction}
          flex-direction: direction

          > .oak-col
            width: 100%

    > .oak-col
      padding: $half-gutter

