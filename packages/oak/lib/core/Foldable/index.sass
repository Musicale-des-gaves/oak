@use "colors" as colors

.oak-foldable
  --background-color: var(--oak-background-color)
  --inner-background-color: var(--oak-inner-background-color)
  --drop-zone-color: var(--oak-interaction-color)

  display: flex
  flex-wrap: wrap
  flex-direction: row
  position: relative
  margin-top: 30px
  margin-bottom: 20px
  width: 100%

  .oak-inner
    border-radius: 0 5px 5px 5px

  .oak-drop-zone
    position: absolute
    left: 0
    width: 100%
    z-index: 1

    &:after
      content: ''
      width: 100%
      left: 0
      height: 5px
      border-radius: 2px
      background: var(--drop-zone-color)
      opacity: 0
      position: absolute

    &.oak-before
      top: -35px
      height: 35px

    &.oak-after
      top: 100%
      height: 20px

      &:after
        top: 8px

    &.drag-enter
      &:after
        opacity: 1

  .oak-foldable-content
    padding: 10px
    display: flex
    flex-direction: column
    gap: 20px

  .oak-foldable-section-title
    color: var(--oak-alternate-text-color)

  .oak-foldable-section-content
    padding: 20px
    background: var(--inner-background-color)
    display: flex
    flex-direction: column
    align-items: center
    min-height: 100px
    height: fit-content
    border-radius: 5px

    & :nth-child(2)
      &.oak-element
        margin-top: 20px

    &.drag-enter .oak-foldable-content-empty
      background: var(--drop-zone-color)
      border-radius: 5px

      .oak-handle
        display: none

    .oak-handle 
      width: 26px
      height: 26px

      .oak-handle-inner i
        font-size: 20px 

    .oak-foldable-section-content-empty
      width: 100%
      display: flex
      justify-content: center
      align-items: center
      min-height: 80px

      .oak-handle 
        width: 40px
        height: 40px

        .oak-handle-inner i
          font-size: 30px

    .oak-element
      width: 100%

      &.oak-row
        margin-top: 20px

  > .oak-options
    top: -25px
    left: 0
    transform: none
    display: flex
    visibility: visible
    z-index: 2

    a.oak-option
      &:first-child
        border-radius: 3px 0 0 0

        &:last-child
          border-radius: 3px 3px 0 0

      &:last-child, &.oak-edit
        border-radius: 0 3px 0 0

      &.oak-drag-handle
        cursor: move
        cursor: grab

        &:active
          cursor: gragging
