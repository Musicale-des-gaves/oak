@use "colors" as colors

.oak-element
  --background-color: var(--oak-background-color)
  --drop-zone-color: var(--oak-interaction-color)
  --text-color: var(--oak-text-color)

  position: relative
  margin-bottom: 20px

  &.oak-row, &.oak-foldable
    margin-top: 40px

  &:not(.oak-row):not(.oak-foldable)
    cursor: move
    cursor: grab

    &:active
      cursor: grabbing

    &:before, &:after
      content: ''
      display: none
      position: absolute
      left: 0
      width: 100%
      height: 5px
      border-radius: 2px
      background: var(--drop-zone-color)

    &:before
      top: -12px

    &:after
      top: auto
      bottom: -13px

    &.drag-top
      &:before
        display: block

    &.drag-bottom
      &:after
        display: block

    &.dragging
      background: transparent

      .oak-options
        display: none

    &.dragged
      background: var(--drop-zone-color)
      border-radius: 5px

      .oak-inner
        opacity: 0

      .oak-options
        display: none

  &:hover
    > .oak-options
      visibility: visible

  .oak-inner
    border-radius: 5px
    background: var(--background-color)
    min-height: 80px
    padding: 10px
    white-space: pre-wrap
    width: 100%
    color: var(--text-color)

    &.oak-with-info
      display: flex
      flex-wrap: wrap
      flex-direction: row

      .oak-element-icon
        width: 35px
        flex: 0 0 35px
        max-width: 35px

        .oak-icons
          color: var(--oak-main-color)
          font-size: 25px
          position: relative
          top: -1px

      .oak-element-info
        flex: 1 0 0

      .oak-element-type
        margin-bottom: 15px

      .oak-element-props
        margin-top: 15px
        font-size: 12px
        font-style: italic
        color: var(--oak-alternate-text-color)
        width: 100%
        white-space: wrap
        text-overflow: wrap

        .oak-property-key
          font-weight: bold

    &.oak-unknown
      display: block
      overflow: hidden
      white-space: wrap
      text-overflow: wrap

  .oak-options
    position: absolute
    top: 50%
    left: 50%
    transform: translate3d(-50%, -50%, 0)
    visibility: hidden
    align-items: center
    width: auto
    display: flex

    &.opened
      visibility: visible

    a.oak-option
      position: relative
      z-index: 10
      margin-right: -1px

      i
        font-size: 18px
        position: relative
        top: -1px

      &:first-child
        border-radius: 3px 0 0 3px

        &:last-child
          border-radius: 3px

      &:last-child
        z-index: 1
        border-radius: 0 3px 3px 0
