@use "sass:color"
@use "sass:math"
@use "colors" as colors

.oak-col
  --background-color: var(--oak-background-color)
  --element-background-color: var(--oak-foreground-color)
  --option-color: var(--oak-alternate-text-color)
  --option-hover-color: var(--oak-main-color)
  --drop-zone-color: var(--oak-interaction-color)
  --divider-background-color: var(--oak-interaction-color)
  --inner-background-color: var(--oak-inner-background-color)
  --inner-border-color: var(--oak-interaction-color)

  flex: 1 0 0
  position: relative

  @for $i from 1 through 12
    &-#{$i}
      flex: 0 0 #{(math.div($i, 12) * 100) + '%'}

  &:first-child > .oak-col-wrapper
    border-radius: 0 5px 5px 5px

  .oak-col-wrapper
    background: var(--background-color)
    display: flex
    flex-wrap: wrap
    flex-direction: row
    position: relative
    border-radius: 5px
    width: 100%
    min-height: 150px
    gap: 20px

    & > .oak-options
      visibility: visible
      position: absolute
      top: 5px
      right: 5px
      left: auto
      transform: none

      & > .oak-option
        background: transparent
        color: var(--option-color)
        margin-left: 2px
        border-radius: 3px

        &:hover
          color: var(--option-hover-color)

        &.oak-opened
          &, &:hover
            background: var(--option-hover-color)
            color: var(--oak-reverse-text-color)
            border-radius: 3px

        i
          font-size: 20px
          position: relative
          top: -2px

        &.oak-edit
          i
            font-size: 18px
            top: -3px

    .oak-catalogue
      display: flex
      flex-direction: row
      flex-wrap: wrap
      justify-content: center

      .oak-handle
        width: 26px
        height: 26px

        .oak-handle-inner i
          font-size: 22px

      &:last-child
        margin-top: 10px

      &:first-child:last-child
        height: calc(100% - 60px)
        align-items: center
        margin-top: 0
        margin: 30px 0

        .oak-handle
          width: 40px
          height: 40px

          .oak-handle-inner i
            font-size: 30px

  .oak-col-inner
    padding: 10px 0
    flex: 1 0 0

    &.drag-enter
      .oak-catalogue
        background: var(--drop-zone-color)
        border-radius: 5px

        .oak-handle
          display: none

    .oak-col-content
      .oak-element
        margin-bottom: 0

      .oak-foldable-section-content
        background: var(--background-color)

      .oak-element.oak-row
        margin-top: 40px
        margin-bottom: 0

      .oak-element.oak-row, .oak-element.oak-foldable
        &:first-child
          margin-top: 40px

        &, &:first-child
          & > .oak-inner
            margin-top: 0

        .oak-col-wrapper
          background: var(--inner-background-color)

          .oak-foldable-section-content-empty
            background: var(--background-color)

          .oak-foldable-section-content
            background: var(--inner-background-color)

          .oak-element:not(.oak-row) .oak-inner
            background: var(--background-color)

          .oak-col-wrapper
            background: var(--background-color)

            .oak-col-wrapper
              background: transparent
              border: 1px solid var(--inner-border-color)

            .oak-element:not(.oak-row) .oak-inner
              background: var(--inner-background-color)

      .oak-element
        .oak-inner
          background: var(--element-background-color)
          margin-top: 20px

        &:not(.oak-row):not(.oak-foldable):first-child
          .oak-inner
            margin-top: 10px

  .oak-divider
    display: flex
    flex: 0 0 auto
    flex-direction: row
    flex-wrap: wrap
    align-items: center

    &.oak-append
      a
        border-radius: 2px 0 0 2px

    a
      display: flex
      text-decoration: none
      align-items: center
      justify-content: center
      width: 15px
      height: 50px
      background: var(--divider-background-color)
      color: var(--oak-alternate-text-color)
      border-radius: 0 2px 2px 0

      &:hover
        background: var(--oak-main-color)
        color: var(--oak-reverse-text-color)

      & i
        font-size: 15px
